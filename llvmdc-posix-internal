# this profile is used to build the runtime and phobos
# don't use it for normal code or you will get linktime conflicts

compiler=llvmdc
inifile=llvmdc.conf

exeext=
objext=bc


version=LLVMDC
noversion=DigitalMars
noversion=GNU
testversion=linux
testversion=Unix
version=Posix
testversion=Windows
testversion=Win32
testversion=Win64
testversion=X86
testversion=PPC
testversion=X86_64
testversion=PPC64
testversion=D_InlineAsm
testvestion=D_InlineAsm_X86
testversion=D_InlineAsm_PPC
testversion=D_InlineAsm_X86_64
testversion=D_InlineAsm_PPC64
testversion=LittleEndian
testversion=BigEndian
testversion=LLVM64


[compile]
cmd=llvmdc -version=Posix -c $i

flag=$i
incdir=-I$i
libdir=-L-L$i
optimize=-O5
version=-version=$i


[link]
oneatatime=yes
cmd=llvmdc $i -of$o

libdir=-L-L$i
lib=-L-l$i
flag=-L$i


[liblink]
safe=yes
oneatatime=yes
cmd=llvm-link -f -o=$o $i

libdir=
lib=
flag=


[postliblink]
cmd=


[shliblink]
shlibs=no
oneatatime=yes
cmd=llvm-link $i | llc -filetype=dynlib -f -o=$o

libdir=
lib=
flag=


[dyliblink]
dylibs=no
